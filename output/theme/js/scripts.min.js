/*! django-girls-events - v0.0.0 - 2015-09-12
* Copyright (c) 2015 ; Licensed  */
var pinFactory=function(a){return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:a.coordinates},properties:{id:a.id,title:a.title,description:a.description,"marker-size":"medium","marker-color":a.color,"marker-symbol":"heart"}}]}},eventService=function(){var a="data/events.json";this.getEvents=function(){var b=[];return $.getJSON(a).done(function(a){$.each(a,function(a,c){b.push(pinFactory(c))})}),b}},mapService=function(){var a="pk.eyJ1IjoicGdyYW5nZWlybyIsImEiOiJiYzI1ZTViNDI1OTc5M2U0Yzg3MzY4NDNlYmY2OGNjOCJ9.5W7JSJ5qlHO61_j-1NrZuw";this.loadMap=function(){L.mapbox.accessToken=a;var b=L.mapbox.map("map","mapbox.streets"),c=L.mapbox.featureLayer().addTo(b);return c}},mapUseCase=function(){var a=new mapService,b=new eventService,c=function(){var b=a.loadMap();return b},d=function(a){var c=b.getEvents();$.each(c,function(b,c){a.setGeoJSON(c)})};this.execute=function(){var a=c();d(a)}};